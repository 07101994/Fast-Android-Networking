<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Fast Android Networking Library by amitshekhariitbhu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Fast Android Networking Library</h1>
      <h2 class="project-tagline">Fast Android Networking Library is a powerful library for doing any type of networking in Android Applications</h2>
      <a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking" class="btn">View on GitHub</a>
      <a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="fast-android-networking-library" class="anchor" href="#fast-android-networking-library" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Fast Android Networking Library</h1>

<p><a href="https://travis-ci.org/amitshekhariitbhu/Fast-Android-Networking"><img src="https://travis-ci.org/amitshekhariitbhu/Fast-Android-Networking.svg?branch=master" alt="Build Status"></a>
<a href="http://android-arsenal.com/details/1/3695"><img src="https://img.shields.io/badge/Android%20Arsenal-Android%20Networking-blue.svg?style=flat" alt="Android Arsenal"></a>
<a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/blob/master/LICENSE"><img src="https://img.shields.io/badge/license-Apache%202.0-blue.svg" alt="License"></a></p>

<p><img src="https://raw.githubusercontent.com/amitshekhariitbhu/Fast-Android-Networking/master/assets/androidnetworking.png" width="1000" height="91"></p>

<h3>
<a id="about-fast-android-networking-library" class="anchor" href="#about-fast-android-networking-library" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About Fast Android Networking Library</h3>

<p>Fast Android Networking Library is a powerful library for doing any type of networking in Android applications which is made on top of <a href="http://square.github.io/okhttp/">OkHttp Networking Layer</a>.</p>

<p>Fast Android Networking Library takes care of each and everything. So you don't have to do anything, just make request and listen for the response.</p>

<h3>
<a id="why-use-fast-android-networking-" class="anchor" href="#why-use-fast-android-networking-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why use Fast Android Networking ?</h3>

<ul>
<li>Recent removal of HttpClient in Android Marshmallow(Android M) made other networking library obsolete.</li>
<li>No other single library do each and everything like making request, downloading any type of file, uploading file, loading
image from network in ImageView, etc. There are libraries but they are outdated.</li>
<li>No other library provided simple interface for doing all types of things in networking like setting priority, cancelling, etc.</li>
<li>As it uses <a href="https://github.com/square/okio">Okio</a> , No more GC overhead in android application.
<a href="https://github.com/square/okio">Okio</a> is made to handle GC overhead while allocating memory.
<a href="https://github.com/square/okio">Okio</a> do some clever things to save CPU and memory.</li>
<li>As it uses <a href="http://square.github.io/okhttp/">OkHttp</a> , most important it supports HTTP/2.<br>
</li>
<li>What Fast Android Networking Library supports? <a href="#fast-android-networking-library-supports">Check here</a>
</li>
<li>Difference over other Networking Library <a href="#difference-over-other-networking-library">Check here</a>
</li>
<li>RxJava Support For Fast Android Networking: <a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/wiki/Using-Fast-Android-Networking-Library-With-RxJava">Check here</a>
</li>
<li>Have an issue or need a feature in Fast Android Networking : <a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/issues/new">Create an issue</a>
</li>
</ul>

<h3>
<a id="show-some-heart" class="anchor" href="#show-some-heart" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Show some <g-emoji alias="heart" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/2764.png">❤️</g-emoji>
</h3>

<p><a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking"><img src="https://img.shields.io/github/stars/amitshekhariitbhu/Fast-Android-Networking.svg?style=social&amp;label=Star" alt="GitHub stars"></a> <a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/fork"><img src="https://img.shields.io/github/forks/amitshekhariitbhu/Fast-Android-Networking.svg?style=social&amp;label=Fork" alt="GitHub forks"></a>  <a href="https://github.com/amitshekhariitbhu"><img src="https://img.shields.io/github/followers/amitshekhariitbhu.svg?style=social&amp;label=Follow" alt="GitHub followers"></a><br>
<a href="https://twitter.com/amitiitbhu"><img src="https://img.shields.io/twitter/follow/amitiitbhu.svg?style=social" alt="Twitter Follow"></a></p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<p>Fast Android Networking Library can be included in any Android application. </p>

<p>Fast Android Networking Library supports Android 2.3 (Gingerbread) and later. </p>

<h2>
<a id="using-fast-android-networking-library-in-your-application" class="anchor" href="#using-fast-android-networking-library-in-your-application" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using Fast Android Networking Library in your application</h2>

<p>Add this in your build.gradle</p>

<div class="highlight highlight-source-groovy"><pre>compile <span class="pl-s"><span class="pl-pds">'</span>com.amitshekhar.android:android-networking:0.1.0<span class="pl-pds">'</span></span></pre></div>

<p>Do not forget to add internet permission in manifest if already not present</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">uses-permission</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.permission.INTERNET<span class="pl-pds">"</span></span> /&gt;</pre></div>

<p>Then initialize it in onCreate() Method of application class :</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>initialize(getApplicationContext());</pre></div>

<p>Initializing it with some customization , as it uses <a href="http://square.github.io/okhttp/">OkHttp</a> as newtorking layer, you can pass custom okHttpClient while initializing it.</p>

<div class="highlight highlight-source-java"><pre># <span class="pl-smi">Adding</span> an <span class="pl-smi">Network</span> <span class="pl-smi">Interceptor</span> <span class="pl-k">for</span> <span class="pl-smi">Debugging</span> purpose <span class="pl-k">:</span>
<span class="pl-smi">OkHttpClient</span> okHttpClient <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">OkHttpClient</span>() .newBuilder()
                        .addNetworkInterceptor(<span class="pl-k">new</span> <span class="pl-smi">StethoInterceptor</span>())
                        .build();
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>initialize(getApplicationContext(),okHttpClient);                        </pre></div>

<p>If you are using proguard, then add this rule in proguard-project.txt</p>

<pre><code>-dontwarn okio.**
</code></pre>

<h3>
<a id="how-to-use-fast-android-networking-with-rxjava---click-here" class="anchor" href="#how-to-use-fast-android-networking-with-rxjava---click-here" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/wiki/Using-Fast-Android-Networking-Library-With-RxJava">How to use Fast Android Networking with RxJava? - Click Here</a>
</h3>

<h3>
<a id="making-a-get-request" class="anchor" href="#making-a-get-request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Making a GET Request</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>get(<span class="pl-s"><span class="pl-pds">"</span>https://fierce-cove-29863.herokuapp.com/getAllUsers/{pageNumber}<span class="pl-pds">"</span></span>)
                 .addPathParameter(<span class="pl-s"><span class="pl-pds">"</span>pageNumber<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>)
                 .addQueryParameter(<span class="pl-s"><span class="pl-pds">"</span>limit<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>3<span class="pl-pds">"</span></span>)
                 .addHeaders(<span class="pl-s"><span class="pl-pds">"</span>token<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>1234<span class="pl-pds">"</span></span>)
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>LOW</span>)
                 .build()
                 .getAsJSONArray(<span class="pl-k">new</span> <span class="pl-smi">JSONArrayRequestListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">JSONArray</span> <span class="pl-v">response</span>) {
                      <span class="pl-c">// do anything with response</span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error</span>
                    }
                });                </pre></div>

<h3>
<a id="making-a-post-request" class="anchor" href="#making-a-post-request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Making a POST Request</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>post(<span class="pl-s"><span class="pl-pds">"</span>https://fierce-cove-29863.herokuapp.com/createAnUser<span class="pl-pds">"</span></span>)
                 .addBodyParameter(<span class="pl-s"><span class="pl-pds">"</span>firstname<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Amit<span class="pl-pds">"</span></span>)
                 .addBodyParameter(<span class="pl-s"><span class="pl-pds">"</span>lastname<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Shekhar<span class="pl-pds">"</span></span>)
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>MEDIUM</span>)
                 .build()
                 .getAsJSONArray(<span class="pl-k">new</span> <span class="pl-smi">JSONArrayRequestListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">JSONArray</span> <span class="pl-v">response</span>) {
                      <span class="pl-c">// do anything with response</span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error</span>
                    }
                });</pre></div>

<p>You can also post json, file ,etc in POST request like this.</p>

<div class="highlight highlight-source-java"><pre>
<span class="pl-smi">JSONObject</span> jsonObject <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">JSONObject</span>();
<span class="pl-k">try</span> {
    jsonObject<span class="pl-k">.</span>put(<span class="pl-s"><span class="pl-pds">"</span>firstname<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Rohit<span class="pl-pds">"</span></span>);
    jsonObject<span class="pl-k">.</span>put(<span class="pl-s"><span class="pl-pds">"</span>lastname<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Kumar<span class="pl-pds">"</span></span>);
} <span class="pl-k">catch</span> (<span class="pl-smi">JSONException</span> e) {
  e<span class="pl-k">.</span>printStackTrace();
}

<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>post(<span class="pl-s"><span class="pl-pds">"</span>https://fierce-cove-29863.herokuapp.com/createUser<span class="pl-pds">"</span></span>)
                 .addJSONObjectBody(jsonObject) <span class="pl-c">// posting json</span>
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>MEDIUM</span>)
                 .build()
                 .getAsJSONArray(<span class="pl-k">new</span> <span class="pl-smi">JSONArrayRequestListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">JSONArray</span> <span class="pl-v">response</span>) {
                      <span class="pl-c">// do anything with response</span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error</span>
                    }
                });

<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>post(<span class="pl-s"><span class="pl-pds">"</span>https://fierce-cove-29863.herokuapp.com/postFile<span class="pl-pds">"</span></span>)
                 .addFileBody(file) <span class="pl-c">// posting any type of file</span>
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>MEDIUM</span>)
                 .build()
                 .getAsJSONObject(<span class="pl-k">new</span> <span class="pl-smi">JSONObjectRequestListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">JSONObject</span> <span class="pl-v">response</span>) {
                      <span class="pl-c">// do anything with response</span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error</span>
                    }
                });               </pre></div>

<h3>
<a id="using-it-with-your-own-java-object---json-parser" class="anchor" href="#using-it-with-your-own-java-object---json-parser" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using it with your own JAVA Object - JSON Parser</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-c">/*--------------Example One -&gt; Getting the userList----------------*/</span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>get(<span class="pl-s"><span class="pl-pds">"</span>https://fierce-cove-29863.herokuapp.com/getAllUsers/{pageNumber}<span class="pl-pds">"</span></span>)
                .addPathParameter(<span class="pl-s"><span class="pl-pds">"</span>pageNumber<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>)
                .addQueryParameter(<span class="pl-s"><span class="pl-pds">"</span>limit<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>3<span class="pl-pds">"</span></span>)
                .setTag(<span class="pl-v">this</span>)
                .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>LOW</span>)
                .build()
                .getAsParsed(<span class="pl-k">new</span> <span class="pl-k">TypeToken&lt;<span class="pl-k">List&lt;<span class="pl-smi">User</span>&gt;</span>&gt;</span>() {}, <span class="pl-k">new</span> <span class="pl-k">ParsedRequestListener&lt;<span class="pl-k">List&lt;<span class="pl-smi">User</span>&gt;</span>&gt;</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-k">List&lt;<span class="pl-smi">User</span>&gt;</span> <span class="pl-v">users</span>) {
                      <span class="pl-c">// do anything with response</span>
                      <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>userList size : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> users<span class="pl-k">.</span>size());
                      <span class="pl-k">for</span> (<span class="pl-smi">User</span> user <span class="pl-k">:</span> users) {
                        <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>id : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> user<span class="pl-k">.</span>id);
                        <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>firstname : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> user<span class="pl-k">.</span>firstname);
                        <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>lastname : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> user<span class="pl-k">.</span>lastname);
                      }
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">anError</span>) {
                     <span class="pl-c">// handle error</span>
                    }
                });
<span class="pl-c">/*--------------Example Two -&gt; Getting an user----------------*/</span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>get(<span class="pl-s"><span class="pl-pds">"</span>https://fierce-cove-29863.herokuapp.com/getAnUserDetail/{userId}<span class="pl-pds">"</span></span>)
                .addPathParameter(<span class="pl-s"><span class="pl-pds">"</span>userId<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>)
                .setTag(<span class="pl-v">this</span>)
                .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>LOW</span>)
                .build()
                .getAsParsed(<span class="pl-k">new</span> <span class="pl-k">TypeToken&lt;<span class="pl-smi">User</span>&gt;</span>() {}, <span class="pl-k">new</span> <span class="pl-k">ParsedRequestListener&lt;<span class="pl-smi">User</span>&gt;</span>() {
                     <span class="pl-k">@Override</span>
                     <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">User</span> <span class="pl-v">user</span>) {
                        <span class="pl-c">// do anything with response</span>
                        <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>id : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> user<span class="pl-k">.</span>id);
                        <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>firstname : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> user<span class="pl-k">.</span>firstname);
                        <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>lastname : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> user<span class="pl-k">.</span>lastname);
                     }
                     <span class="pl-k">@Override</span>
                     <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">anError</span>) {
                        <span class="pl-c">// handle error</span>
                     }
                 }); 
<span class="pl-c">/*-- Note : TypeToken and getAsParsed is important here --*/</span>              </pre></div>

<h3>
<a id="downloading-a-file-from-server" class="anchor" href="#downloading-a-file-from-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Downloading a file from server</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>download(url,dirPath,fileName)
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>downloadTest<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>MEDIUM</span>)
                 .build()
                 .setDownloadProgressListener(<span class="pl-k">new</span> <span class="pl-smi">DownloadProgressListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onProgress</span>(<span class="pl-k">long</span> <span class="pl-v">bytesDownloaded</span>, <span class="pl-k">long</span> <span class="pl-v">totalBytes</span>) {
                      <span class="pl-c">// do anything with progress  </span>
                    }
                 })
                 .startDownload(<span class="pl-k">new</span> <span class="pl-smi">DownloadListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onDownloadComplete</span>() {
                      <span class="pl-c">// do anything after completion</span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error    </span>
                    }
                });                 </pre></div>

<h3>
<a id="uploading-a-file-to-server" class="anchor" href="#uploading-a-file-to-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Uploading a file to server</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>upload(url)
                 .addMultipartFile(<span class="pl-s"><span class="pl-pds">"</span>image<span class="pl-pds">"</span></span>,file)    
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>uploadTest<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>HIGH</span>)
                 .build()
                 .setUploadProgressListener(<span class="pl-k">new</span> <span class="pl-smi">UploadProgressListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onProgress</span>(<span class="pl-k">long</span> <span class="pl-v">bytesUploaded</span>, <span class="pl-k">long</span> <span class="pl-v">totalBytes</span>) {
                      <span class="pl-c">// do anything with progress </span>
                    }
                 })
                 .getAsJSONObject(<span class="pl-k">new</span> <span class="pl-smi">JSONObjectRequestListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">JSONObject</span> <span class="pl-v">response</span>) {
                      <span class="pl-c">// do anything with response                </span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error </span>
                    }
                 }); </pre></div>

<h3>
<a id="getting-response-and-completion-in-an-another-thread-executor" class="anchor" href="#getting-response-and-completion-in-an-another-thread-executor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Response and completion in an another thread executor</h3>

<p>(Note : Error and Progress will always be returned in main thread of application)</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>upload(url)
                 .addMultipartFile(<span class="pl-s"><span class="pl-pds">"</span>image<span class="pl-pds">"</span></span>,file)    
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>uploadTest<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>HIGH</span>)
                 .build()
                 .setExecutor(<span class="pl-smi">Executors</span><span class="pl-k">.</span>newSingleThreadExecutor()) <span class="pl-c">// setting an executor to get response or completion on that executor thread</span>
                 .setUploadProgressListener(<span class="pl-k">new</span> <span class="pl-smi">UploadProgressListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onProgress</span>(<span class="pl-k">long</span> <span class="pl-v">bytesUploaded</span>, <span class="pl-k">long</span> <span class="pl-v">totalBytes</span>) {
                      <span class="pl-c">// do anything with progress </span>
                    }
                 })
                 .getAsJSONObject(<span class="pl-k">new</span> <span class="pl-smi">JSONObjectRequestListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">JSONObject</span> <span class="pl-v">response</span>) {
                      <span class="pl-c">// below code will be executed in the executor provided</span>
                      <span class="pl-c">// do anything with response                </span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error </span>
                    }
                 }); </pre></div>

<h3>
<a id="setting-a-percentage-threshold-for-not-cancelling-the-request-if-it-has-completed-the-given-threshold" class="anchor" href="#setting-a-percentage-threshold-for-not-cancelling-the-request-if-it-has-completed-the-given-threshold" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setting a Percentage Threshold For Not Cancelling the request if it has completed the given threshold</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>download(url,dirPath,fileName)
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>downloadTest<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>MEDIUM</span>)
                 .setPercentageThresholdForCancelling(<span class="pl-c1">50</span>) <span class="pl-c">// even if at the time of cancelling it will not cancel if 50% </span>
                 .build()                                 <span class="pl-c">// downloading is done.But can be cancalled with forceCancel.</span>
                 .setDownloadProgressListener(<span class="pl-k">new</span> <span class="pl-smi">DownloadProgressListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onProgress</span>(<span class="pl-k">long</span> <span class="pl-v">bytesDownloaded</span>, <span class="pl-k">long</span> <span class="pl-v">totalBytes</span>) {
                      <span class="pl-c">// do anything with progress  </span>
                    }
                 })
                 .startDownload(<span class="pl-k">new</span> <span class="pl-smi">DownloadListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onDownloadComplete</span>() {
                      <span class="pl-c">// do anything after completion</span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error    </span>
                    }
                });   </pre></div>

<h3>
<a id="cancelling-a-request" class="anchor" href="#cancelling-a-request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cancelling a request.</h3>

<p>Any request with a given tag can be cancelled. Just do like this.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>cancel(<span class="pl-s"><span class="pl-pds">"</span>tag<span class="pl-pds">"</span></span>); <span class="pl-c">// All the requests with the given tag will be cancelled.</span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>forceCancel(<span class="pl-s"><span class="pl-pds">"</span>tag<span class="pl-pds">"</span></span>);  <span class="pl-c">// All the requests with the given tag will be cancelled , even if any percent threshold is</span>
                                       <span class="pl-c">// set , it will be cancelled forcefully. </span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>cancelAll(); <span class="pl-c">// All the requests will be cancelled.  </span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>forceCancelAll(); <span class="pl-c">// All the requests will be cancelled , even if any percent threshold is</span>
                               <span class="pl-c">// set , it will be cancelled forcefully.                           </span></pre></div>

<h3>
<a id="loading-image-from-network-into-imageview" class="anchor" href="#loading-image-from-network-into-imageview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Loading image from network into ImageView</h3>

<div class="highlight highlight-text-xml"><pre>      &lt;<span class="pl-ent">com</span>.androidnetworking.widget.ANImageView
          <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>@+id/imageView<span class="pl-pds">"</span></span>
          <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">layout_width</span>=<span class="pl-s"><span class="pl-pds">"</span>100dp<span class="pl-pds">"</span></span>
          <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">layout_height</span>=<span class="pl-s"><span class="pl-pds">"</span>100dp<span class="pl-pds">"</span></span>
          <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">layout_gravity</span>=<span class="pl-s"><span class="pl-pds">"</span>center<span class="pl-pds">"</span></span> /&gt;

      imageView.setDefaultImageResId(R.drawable.default);
      imageView.setErrorImageResId(R.drawable.error);
      imageView.setImageUrl(imageUrl);          </pre></div>

<h3>
<a id="getting-bitmap-from-url-with-some-specified-parameters" class="anchor" href="#getting-bitmap-from-url-with-some-specified-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Bitmap from url with some specified parameters</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>get(imageUrl)
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>imageRequestTag<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>MEDIUM</span>)
                 .setBitmapMaxHeight(<span class="pl-c1">100</span>)
                 .setBitmapMaxWidth(<span class="pl-c1">100</span>)
                 .setBitmapConfig(<span class="pl-smi">Bitmap</span><span class="pl-k">.</span><span class="pl-smi">Config</span><span class="pl-c1"><span class="pl-k">.</span>ARGB_8888</span>)
                 .build()
                 .getAsBitmap(<span class="pl-k">new</span> <span class="pl-smi">BitmapRequestListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">Bitmap</span> <span class="pl-v">bitmap</span>) {
                    <span class="pl-c">// do anything with bitmap</span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error</span>
                    }
                });</pre></div>

<h3>
<a id="error-code-handling" class="anchor" href="#error-code-handling" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Code Handling</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-k">public</span> <span class="pl-k">void</span> onError(<span class="pl-smi">ANError</span> error) {
                           <span class="pl-k">if</span> (error<span class="pl-k">.</span>getErrorCode() <span class="pl-k">!=</span> <span class="pl-c1">0</span>) {
                                <span class="pl-c">// received error from server</span>
                                <span class="pl-c">// error.getErrorCode() - the error code from server</span>
                                <span class="pl-c">// error.getErrorBody() - the error body from server</span>
                                <span class="pl-c">// error.getErrorDetail() - just an error detail</span>
                                <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>onError errorCode : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> error<span class="pl-k">.</span>getErrorCode());
                                <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>onError errorBody : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> error<span class="pl-k">.</span>getErrorBody());
                                <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>onError errorDetail : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> error<span class="pl-k">.</span>getErrorDetail());
                           } <span class="pl-k">else</span> {
                                <span class="pl-c">// error.getErrorDetail() : connectionError, parseError, requestCancelledError</span>
                                <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>onError errorDetail : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> error<span class="pl-k">.</span>getErrorDetail());
                           }
                        }</pre></div>

<h3>
<a id="remove-bitmap-from-cache-or-clear-cache" class="anchor" href="#remove-bitmap-from-cache-or-clear-cache" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Remove Bitmap from cache or clear cache</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>evictBitmap(key); <span class="pl-c">// remove a bitmap with key from LruCache</span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>evictAllBitmap(); <span class="pl-c">// clear LruCache</span></pre></div>

<h3>
<a id="prefetch-a-request-so-that-it-can-return-from-cache-when-required-at-instant" class="anchor" href="#prefetch-a-request-so-that-it-can-return-from-cache-when-required-at-instant" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prefetch a request (so that it can return from cache when required at instant)</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>get(<span class="pl-s"><span class="pl-pds">"</span>https://fierce-cove-29863.herokuapp.com/getAllUsers/{pageNumber}<span class="pl-pds">"</span></span>)
                .addPathParameter(<span class="pl-s"><span class="pl-pds">"</span>pageNumber<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>)
                .addQueryParameter(<span class="pl-s"><span class="pl-pds">"</span>limit<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>30<span class="pl-pds">"</span></span>)
                .setTag(<span class="pl-v">this</span>)
                .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>LOW</span>)
                .build()
                .prefetch();</pre></div>

<h3>
<a id="customizing-okhttpclient-for-a-particular-request" class="anchor" href="#customizing-okhttpclient-for-a-particular-request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Customizing OkHttpClient for a particular request</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">OkHttpClient</span> okHttpClient <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">OkHttpClient</span>()<span class="pl-k">.</span>newBuilder()
                .addInterceptor(<span class="pl-k">new</span> <span class="pl-smi">GzipRequestInterceptor</span>())
                .build();

<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>get(<span class="pl-s"><span class="pl-pds">"</span>https://fierce-cove-29863.herokuapp.com/getAllUsers/{pageNumber}<span class="pl-pds">"</span></span>)
                 .addPathParameter(<span class="pl-s"><span class="pl-pds">"</span>pageNumber<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>)
                 .addQueryParameter(<span class="pl-s"><span class="pl-pds">"</span>limit<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>3<span class="pl-pds">"</span></span>)
                 .addHeaders(<span class="pl-s"><span class="pl-pds">"</span>token<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>1234<span class="pl-pds">"</span></span>)
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>LOW</span>)
                 .setOkHttpClient(okHttpClient) <span class="pl-c">// passing a custom okHttpClient </span>
                 .build()
                 .getAsJSONArray(<span class="pl-k">new</span> <span class="pl-smi">JSONArrayRequestListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">JSONArray</span> <span class="pl-v">response</span>) {
                      <span class="pl-c">// do anything with response</span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                    <span class="pl-c">// handle error</span>
                    }
                });</pre></div>

<h3>
<a id="making-a-conditional-request-building-a-request" class="anchor" href="#making-a-conditional-request-building-a-request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Making a conditional request (Building a request)</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">ANRequest</span><span class="pl-k">.</span><span class="pl-smi">GetRequestBuilder</span> getRequestBuilder <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">ANRequest</span>.<span class="pl-smi">GetRequestBuilder</span>(<span class="pl-smi">ApiEndPoint</span><span class="pl-c1"><span class="pl-k">.</span>BASE_URL</span> <span class="pl-k">+</span> <span class="pl-smi">ApiEndPoint</span><span class="pl-c1"><span class="pl-k">.</span>CHECK_FOR_HEADER</span>);

<span class="pl-k">if</span>(isHeaderRequired){
 getRequestBuilder<span class="pl-k">.</span>addHeaders(<span class="pl-s"><span class="pl-pds">"</span>token<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>1234<span class="pl-pds">"</span></span>);
}

<span class="pl-k">if</span>(executorRequired){
 getRequestBuilder<span class="pl-k">.</span>setExecutor(<span class="pl-smi">Executors</span><span class="pl-k">.</span>newSingleThreadExecutor());
}

<span class="pl-smi">ANRequest</span> anRequest <span class="pl-k">=</span> getRequestBuilder<span class="pl-k">.</span>build();       

anRequest<span class="pl-k">.</span>getAsJSONObject(<span class="pl-k">new</span> <span class="pl-smi">JSONObjectRequestListener</span>() {
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onResponse</span>(<span class="pl-smi">JSONObject</span> <span class="pl-v">response</span>) {
      <span class="pl-c">// do anything with response</span>
    }
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
      <span class="pl-c">// handle error</span>
    }
});</pre></div>

<h3>
<a id="connectionclass-listener-to-get-current-network-quality-and-bandwidth" class="anchor" href="#connectionclass-listener-to-get-current-network-quality-and-bandwidth" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ConnectionClass Listener to get current network quality and bandwidth</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Adding Listener</span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>setConnectionQualityChangeListener(<span class="pl-k">new</span> <span class="pl-smi">ConnectionQualityChangeListener</span>() {
            <span class="pl-k">@Override</span>
            <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onChange</span>(<span class="pl-smi">ConnectionQuality</span> <span class="pl-v">currentConnectionQuality</span>, <span class="pl-k">int</span> <span class="pl-v">currentBandwidth</span>) {
              <span class="pl-c">// do something on change in connectionQuality</span>
            }
        });

<span class="pl-c">// Removing Listener   </span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>removeConnectionQualityChangeListener();

<span class="pl-c">// Getting current ConnectionQuality</span>
<span class="pl-smi">ConnectionQuality</span> connectionQuality <span class="pl-k">=</span> <span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>getCurrentConnectionQuality();
<span class="pl-k">if</span>(connectionQuality <span class="pl-k">==</span> <span class="pl-smi">ConnectionQuality</span><span class="pl-c1"><span class="pl-k">.</span>EXCELLENT</span>) {
  <span class="pl-c">// do something</span>
} <span class="pl-k">else</span> <span class="pl-k">if</span> (connectionQuality <span class="pl-k">==</span> <span class="pl-smi">ConnectionQuality</span><span class="pl-c1"><span class="pl-k">.</span>POOR</span>) {
  <span class="pl-c">// do something</span>
} <span class="pl-k">else</span> <span class="pl-k">if</span> (connectionQuality <span class="pl-k">==</span> <span class="pl-smi">ConnectionQuality</span><span class="pl-c1"><span class="pl-k">.</span>UNKNOWN</span>) {
  <span class="pl-c">// do something</span>
}
<span class="pl-c">// Getting current bandwidth</span>
<span class="pl-k">int</span> currentBandwidth <span class="pl-k">=</span> <span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>getCurrentBandwidth(); <span class="pl-c">// Note : if (currentBandwidth == 0) : means UNKNOWN</span></pre></div>

<h3>
<a id="getting-analytics-of-a-request-by-setting-analyticslistener-on-that" class="anchor" href="#getting-analytics-of-a-request-by-setting-analyticslistener-on-that" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Analytics of a request by setting AnalyticsListener on that</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>download(url,dirPath,fileName)
                 .setTag(<span class="pl-s"><span class="pl-pds">"</span>downloadTest<span class="pl-pds">"</span></span>)
                 .setPriority(<span class="pl-smi">Priority</span><span class="pl-c1"><span class="pl-k">.</span>MEDIUM</span>)
                 .build()
                 .setAnalyticsListener(<span class="pl-k">new</span> <span class="pl-smi">AnalyticsListener</span>() {
                      <span class="pl-k">@Override</span>
                      <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onReceived</span>(<span class="pl-k">long</span> <span class="pl-v">timeTakenInMillis</span>, <span class="pl-k">long</span> <span class="pl-v">bytesSent</span>, <span class="pl-k">long</span> <span class="pl-v">bytesReceived</span>, <span class="pl-k">boolean</span> <span class="pl-v">isFromCache</span>) {
                          <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span> timeTakenInMillis : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> timeTakenInMillis);
                          <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span> bytesSent : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> bytesSent);
                          <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span> bytesReceived : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> bytesReceived);
                          <span class="pl-smi">Log</span><span class="pl-k">.</span>d(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span> isFromCache : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> isFromCache);
                      }
                  })
                 .setDownloadProgressListener(<span class="pl-k">new</span> <span class="pl-smi">DownloadProgressListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onProgress</span>(<span class="pl-k">long</span> <span class="pl-v">bytesDownloaded</span>, <span class="pl-k">long</span> <span class="pl-v">totalBytes</span>) {
                      <span class="pl-c">// do anything with progress  </span>
                    }
                 })
                 .startDownload(<span class="pl-k">new</span> <span class="pl-smi">DownloadListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onDownloadComplete</span>() {
                      <span class="pl-c">// do anything after completion</span>
                    }
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onError</span>(<span class="pl-smi">ANError</span> <span class="pl-v">error</span>) {
                      <span class="pl-c">// handle error    </span>
                    }
                });  
<span class="pl-smi">Note</span> <span class="pl-k">:</span> <span class="pl-smi">If</span> bytesSent or bytesReceived is <span class="pl-k">-</span><span class="pl-c1">1</span> , it means it is unknown                </pre></div>

<h3>
<a id="how-caching-works-" class="anchor" href="#how-caching-works-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How caching works ?</h3>

<ul>
<li>First of all the server must send cache-control in header so that is starts working.</li>
<li>Response will be cached on the basis of cache-control max-age,max-stale.</li>
<li>If internet is connected and the age is NOT expired it will return from cache.</li>
<li>If internet is connected and the age is expired and if server returns 304(NOT MODIFIED) it will return from cache.</li>
<li>If internet is NOT connected if you are using getResponseOnlyIfCached() - it will return from cache even it date is expired.</li>
<li>If internet is NOT connected , if you are NOT using getResponseOnlyIfCached() - it will NOT return anything.</li>
<li>If you are using getResponseOnlyFromNetwork() , it will only return response after validation from server.</li>
<li>If cache-control is set, it will work according to the max-age,max-stale returned from server.</li>
<li>If internet is NOT connected only way to get cache Response is by using getResponseOnlyIfCached().</li>
</ul>

<h3>
<a id="enabling-logging" class="anchor" href="#enabling-logging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enabling Logging</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>enableLogging(); <span class="pl-c">// simply enable logging</span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>enableLogging(<span class="pl-s"><span class="pl-pds">"</span>tag<span class="pl-pds">"</span></span>); <span class="pl-c">// enabling logging with some tag</span>
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>disableLogging(); <span class="pl-c">// disable logging</span></pre></div>

<h3>
<a id="enabling-gzip-from-client-to-server" class="anchor" href="#enabling-gzip-from-client-to-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enabling GZIP From Client to Server</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Enabling GZIP for Request (Not needed if your server doesn't support GZIP Compression), anyway responses </span>
from server are automatically unGzipped <span class="pl-k">if</span> required. <span class="pl-smi">So</span> enable it only <span class="pl-k">if</span> you need your request to be 
<span class="pl-smi">Gzipped</span> before sending to server(<span class="pl-smi">Make</span> sure your server support <span class="pl-c1">GZIP</span> <span class="pl-smi">Compression</span>)<span class="pl-c1">.</span>
<span class="pl-smi">OkHttpClient</span> okHttpClient <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">OkHttpClient</span>()<span class="pl-k">.</span>newBuilder()
                .addInterceptor(<span class="pl-k">new</span> <span class="pl-smi">GzipRequestInterceptor</span>())
                .build();
<span class="pl-smi">AndroidNetworking</span><span class="pl-k">.</span>initialize(getApplicationContext(),okHttpClient);                </pre></div>

<h3>
<a id="important-note" class="anchor" href="#important-note" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>IMPORTANT NOTE</h3>

<ul>
<li>Use IMMEDIATE Priority with caution - use is at appropriate place only when
1 or 2 (at max 2)IMMEDIATE request is required at instant.Otherwise use HIGH Priority.</li>
<li>Known Bug : As present if you are using GZIP Interceptor from client to server, Upload progress
is not working perfectly in Multipart.</li>
</ul>

<h3>
<a id="fast-android-networking-library-supports" class="anchor" href="#fast-android-networking-library-supports" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Fast Android Networking Library supports</h3>

<ul>
<li>Fast Android Networking Library supports all types of HTTP/HTTPS request like GET, POST, DELETE, HEAD, PUT, PATCH</li>
<li>Fast Android Networking Library supports downloading any type of file</li>
<li>Fast Android Networking Library supports uploading any type of file (supports multipart upload)</li>
<li>Fast Android Networking Library supports cancelling a request</li>
<li>Fast Android Networking Library supports setting priority to any request (LOW, MEDIUM, HIGH, IMMEDIATE)</li>
<li>Fast Android Networking Library supports <a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/blob/master/RxAndroidNetworking.md">RxJava</a>
</li>
</ul>

<p>As it uses <a href="http://square.github.io/okhttp/">OkHttp</a> as a networking layer, it supports:</p>

<ul>
<li>Fast Android Networking Library supports HTTP/2 support allows all requests to the same host to share a socket</li>
<li>Fast Android Networking Library uses connection pooling which reduces request latency (if HTTP/2 isn’t available)</li>
<li>Transparent GZIP shrinks download sizes</li>
<li>Fast Android Networking Library supports response caching which avoids the network completely for repeat requests</li>
</ul>

<h3>
<a id="difference-over-other-networking-library" class="anchor" href="#difference-over-other-networking-library" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Difference over other Networking Library</h3>

<ul>
<li>In Fast Android Networking Library, OkHttpClient can be customized for every request easily.</li>
<li>As Fast Android Networking Library uses <a href="http://square.github.io/okhttp/">OkHttp</a> and <a href="https://github.com/square/okio">Okio</a>, it is faster.</li>
<li>Single library for all type of networking.</li>
<li>Supports RxJava -&gt; <a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/wiki/Using-Fast-Android-Networking-Library-With-RxJava">Check here</a>
</li>
<li>Current bandwidth and connection quality can be obtained to decide logic of code.</li>
<li>Executor can be passed to any request to get response in another thread.</li>
<li>Complete analytics of any request can be obtained.</li>
<li>All types of customization is possible.</li>
<li>Immediate Request is really immediate now.</li>
<li>Prefetching of any request can be done so that it gives instant data when required from cache.</li>
<li>Proper cancellation of request.</li>
<li>Do not cancel a request if completed more than a threshold percentage.</li>
<li>Simple interface to make any type of request.</li>
<li>Proper Response Caching, hence reducing bandwidth usage.<br>
</li>
</ul>

<h3>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TODO</h3>

<ul>
<li>Integration with other library</li>
<li>And of course many many features and bug fixes</li>
</ul>

<h3>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CREDITS</h3>

<ul>
<li>
<a href="https://square.github.io/">Square</a> - As both <a href="http://square.github.io/okhttp/">OkHttp</a> and <a href="https://github.com/square/okio">Okio</a>
used by Fast Android Networking is developed by <a href="https://square.github.io/">Square</a>.</li>
<li>
<a href="https://android.googlesource.com/platform/frameworks/volley/">Volley</a> - As Fast Android Networking uses ImageLoader that is developed by <a href="https://android.googlesource.com/platform/frameworks/volley/">Volley</a>.<br>
</li>
<li>
<a href="https://github.com/PrashantGupta17">Prashant Gupta</a> - For RxJava Support - <a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking/wiki/Using-Fast-Android-Networking-Library-With-RxJava">RxJava Support</a>
</li>
</ul>

<h3>
<a id="contact---lets-become-friend" class="anchor" href="#contact---lets-become-friend" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contact - Let's become friend</h3>

<ul>
<li><a href="https://twitter.com/amitiitbhu">Twitter</a></li>
<li><a href="https://github.com/amitshekhariitbhu">Github</a></li>
<li><a href="https://medium.com/@amitshekhar">Medium</a></li>
<li><a href="https://www.facebook.com/amit.shekhar.iitbhu">Facebook</a></li>
</ul>

<h3>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h3>

<pre><code>   Copyright (C) 2016 Amit Shekhar
   Copyright (C) 2011 Android Open Source Project

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
</code></pre>

<h3>
<a id="contributing-to-fast-android-networking" class="anchor" href="#contributing-to-fast-android-networking" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing to Fast Android Networking</h3>

<p>Just make pull request. You are in!</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/amitshekhariitbhu/Fast-Android-Networking">Fast Android Networking Library</a> is maintained by <a href="https://github.com/amitshekhariitbhu">amitshekhariitbhu</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
